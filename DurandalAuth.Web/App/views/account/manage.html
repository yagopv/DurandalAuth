<div id="manage">
    <div class="container">
        <div class="page-header">
            <h1>Manage your account   <small>change passwords and manage your external accounts</small></h1>
        </div>
		<div data-bind="visible: loading">Loading...</div>
		<div data-bind="visible: !loading()">
			<p class="text-success" data-bind="text: message"></p>
			<h2>Administrar cuenta</h2>
			<section>
                <div data-bind="visible : hasLocalPassword()">
                    <div data-bind="with: changePassword">
                        <p class="text-info">Ha iniciado sesión como <strong data-bind="text: name"></strong>.</p>
                        <form class="form-horizontal" role="form">
                            <h4>Cambiar contraseña</h4>
                            <hr />
                            <div class="form-group" data-bind="validationElement: oldPassword">
                                <label for="ChangePasswordOldPassword" class="col-md-2 control-label">Contraseña anterior</label>
                                <div class="col-md-10">
                                    <input type="password" id="ChangePasswordOldPassword" class="form-control" data-bind="value: oldPassword" />
                                </div>
                            </div>
                            <div class="form-group" data-bind="validationElement: newPassword">
                                <label for="ChangePasswordNewPassword" class="col-md-2 control-label">Nueva contraseña</label>
                                <div class="col-md-10">
                                    <input type="password" id="ChangePasswordNewPassword" class="form-control" data-bind="value: newPassword" />
                                </div>
                            </div>
                            <div class="form-group" data-bind="validationElement: confirmPassword">
                                <label for="ChangePasswordConfirmPassword" class="col-md-2 control-label">Confirmar la nueva contraseña</label>
                                <div class="col-md-10">
                                    <input type="password" id="ChangePasswordConfirmPassword" class="form-control" data-bind="value: confirmPassword" />
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-offset-2 col-md-10">
                                    <button type="submit" class="btn btn-default" data-bind="click: change, disable: changing">Cambiar contraseña</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div data-bind="visible : !hasLocalPassword()">
                    <div data-bind="with: setPassword">
                        <p>No tiene un nombre de usuario local/contraseña para este sitio. Agregue una cuenta local de manera que pueda iniciar sesión sin un inicio de sesión externo.</p>
                        <form class="form-horizontal" role="form">
                            <h4>Crear inicio de sesión local</h4>
                            <hr />
                            <div class="form-group" data-bind="validationElement: newPassword">
                                <label for="SetPasswordNewPassword" class="col-md-2 control-label">Nueva contraseña</label>
                                <div class="col-md-10">
                                    <input type="password" id="SetPasswordNewPassword" class="form-control" data-bind="value: newPassword" />
                                </div>
                            </div>
                            <div class="form-group" data-bind="validationElement: confirmPassword">
                                <label for="SetPasswordConfirmPassword" class="col-md-2 control-label">Confirmar la nueva contraseña</label>
                                <div class="col-md-10">
                                    <input type="password" id="SetPasswordConfirmPassword" class="form-control" data-bind="value: confirmPassword" />
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-offset-2 col-md-10">
                                    <button type="submit" class="btn btn-default" data-bind="click: set, disable: setting">Establecer contraseña</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
			</section>
			<section>
				<ul class="text-danger" data-bind="foreach: errors">
					<li data-bind="text: $data"></li>
				</ul>
				<div data-bind="if: userLogins().length > 0">
					<h4>Inicios de sesión registrados</h4>
					<table class="table">
                        <tbody data-bind="foreach: userLogins">
                            <tr>
                                <td data-bind="text: loginProvider"></td>
                                <td>
                                    <div data-bind="if: $parent.canRemoveLogin">
                                        <form>
                                            <div>
                                                <button type="submit" class="btn btn-default" data-bind="attr: { title: 'Remove this ' + loginProvider() + ' credential from your account' }, click: remove, disable: removing">Quitar</button>
                                            </div>
                                        </form>
                                    </div>
                                    <span data-bind="if: !$parent.canRemoveLogin()">&nbsp;</span>
                                </td>
                            </tr>
                        </tbody>
					</table>
				</div>
				<h2>Agregar un inicio de sesión externo</h2>
				<div data-bind="visible: !hasExternalLogin()">
					<p>
						There are no external authentication services configured. See <a href="http://go.microsoft.com/fwlink/?LinkId=313242">this article</a>
						for details on setting up this ASP.NET application to support logging in via external services.
					</p>
				</div>
				<form class="form-horizontal" role="form" data-bind="visible: hasExternalLogin">
					<h4>Use otro servicio para iniciar sesión.</h4>
					<hr />
					<p data-bind="foreach: externalLoginProviders">
						<button type="submit" class="btn btn-default" data-bind="text: name, attr: { title: 'Log in using your ' + name() + ' account' }, click: login"></button>
					</p>
				</form>
			</section>
		</div>
    </div>
</div>